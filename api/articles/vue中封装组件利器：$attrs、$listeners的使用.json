{"title":"vue中封装组件利器：$attrs、$listeners的使用","uid":"16a169bf12b91d4c6896d60fdc0927ba","slug":"vue中封装组件利器：$attrs、$listeners的使用","date":"2024-02-13T09:51:58.000Z","updated":"2024-02-13T09:54:55.933Z","comments":true,"path":"api/articles/vue中封装组件利器：$attrs、$listeners的使用.json","keywords":null,"cover":"https://pic.imgdb.cn/item/65cb3bef9f345e8d03c7b663.jpg","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>多级组件嵌套需要传递数据时，通常使用的方法是通过<code>vuex</code>。但仅仅是传递数据，不做中间处理，使用 <code>vuex</code> 处理，未免有些大材小用了。所以就有了 <code>$attrs</code> 、 <code>$listeners</code>两个属性 ，通常配合 inheritAttrs 一起使用。</p>\n<p><strong>说白了就是为了父子组件深层嵌套的方便传值。</strong></p>\n<h2 id=\"attrs\"><a href=\"#attrs\" class=\"headerlink\" title=\"$attrs\"></a>$attrs</h2><ul>\n<li>从父组件传给自定义子组件的属性，如果没有 <code>prop</code> 接收会自动设置到子组件内部的最外层标签上，如果是 <code>class</code> 和 <code>style</code> 的话，会合并最外层标签的 <code>class</code> 和 <code>style</code>。</li>\n<li>如果子组件中不想继承父组件传入的非 <code>prop</code> 属性，可以使用 <code>inheritAttrs</code> 禁用继承，然后通过 <code>v-bind=&quot;$attrs&quot;</code> 把外部传入的 非 <code>prop</code> 属性设置给希望的标签上，但是这不会改变 <code>class</code> 和 <code>style</code>。</li>\n</ul>\n<h2 id=\"inheritAttrs-属性-官网链接\"><a href=\"#inheritAttrs-属性-官网链接\" class=\"headerlink\" title=\"inheritAttrs 属性 官网链接\"></a>inheritAttrs 属性 <a href=\"https://link.juejin.cn/?target=https://cn.vuejs.org/v2/api/%23inheritAttrs\" title=\"https://cn.vuejs.org/v2/api/#inheritAttrs\">官网链接</a></h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>2.4.0 新增</p></blockquote>\n<ul>\n<li><p><strong>类型</strong>：<code>boolean</code></p>\n</li>\n<li><p><strong>默认值</strong>：<code>true</code></p>\n</li>\n<li><p><strong>详细</strong>：</p>\n<p>  默认情况下父作用域的不被认作 props 的 attribute 绑定 (attribute bindings) 将会“回退”且作为普通的 HTML attribute 应用在子组件的根元素上。当撰写包裹一个目标元素或另一个组件的组件时，这可能不会总是符合预期行为。通过设置 <code>inheritAttrs</code> 到 <code>false</code>，这些默认行为将会被去掉。而通过 (同样是 2.4 新增的) 实例 property <code>$attrs</code> 可以让这些 attribute 生效，且可以通过 <code>v-bind</code> 显性的绑定到非根元素上。</p>\n<p>  注意：这个选项<strong>不影响</strong> <code>class</code> 和 <code>style</code> 绑定。</p>\n</li>\n</ul>\n<p>例子：</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>父组件</p></blockquote>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">  </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">my-input</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">      </span><span style=\"color: #61D0FF\">required</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">      </span><span style=\"color: #61D0FF\">placeholder</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">请输入内容</span><span style=\"color: #505153\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">      </span><span style=\"color: #61D0FF\">type</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">text</span><span style=\"color: #505153\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">      </span><span style=\"color: #61D0FF\">class</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">theme-dark</span><span style=\"color: #505153\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">  </span><span style=\"color: #DA67DA\">/&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">import</span><span style=\"color: #CCCCCC\"> MyInput </span><span style=\"color: #9569EC\">from</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#39;</span><span style=\"color: #DA67DA\">./child</span><span style=\"color: #505153\">&#39;</span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">export</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">default</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">  name</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#39;</span><span style=\"color: #CCCCCC\">parent</span><span style=\"color: #505153\">&#39;</span><span style=\"color: #DA67DA\">,</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">  components</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    MyInput</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">  </span><span style=\"color: #505153\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>子组件</p></blockquote>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">  </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">input</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #61D0FF\">v-bind</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">this.$attrs</span><span style=\"color: #505153\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #61D0FF\">class</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">form-control</span><span style=\"color: #505153\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">/&gt;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">  </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">export</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">default</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">  name</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#39;</span><span style=\"color: #CCCCCC\">MyInput</span><span style=\"color: #505153\">&#39;</span><span style=\"color: #DA67DA\">,</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">  inheritAttrs</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF; font-style: italic\">false</span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><p>子组件中没有接受父组件中传过来的值，也没有绑定，但是有<code>v-bind=&quot;$attrs&quot;</code>这个属性，他会自动接受并绑定，</p>\n<p>如下，除了 <code>style</code> 、<code>class</code> 外，就可以看到 <code>v-bind=&quot;$attrs&quot;</code> 可以指定非 <code>props</code> 的绑定位置，当结合 <code>inheritAttrs: false</code> 使用时，就可以禁止非 <code>props</code> 绑定到根组件上了。</p>\n<p>inheritAttrs: false</p>\n<p><img src=\"https://pic.imgdb.cn/item/65ca0a5f9f345e8d0394bec6.jpg\"></p>\n<p>inheritAttrs: true</p>\n<p><img src=\"https://pic.imgdb.cn/item/65ca0a809f345e8d0395343d.jpg\"></p>\n<h2 id=\"listeners\"><a href=\"#listeners\" class=\"headerlink\" title=\"$listeners\"></a>$listeners</h2><ul>\n<li><strong>listeners</strong>: 包含了父作用域中的 (不含 <code>.native</code> 修饰器的) <code>v-on</code> 事件监听器。它可以通过 <code>v-on=&quot;this.$listeners&quot;</code> 传入内部组件——在创建更高层次的组件时非常有用。</li>\n</ul>\n<p><strong>父组件</strong></p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">  </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    father</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">Son</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">      </span><span style=\"color: #61D0FF\">@med1</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">med1</span><span style=\"color: #505153\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">      </span><span style=\"color: #61D0FF\">@med2</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">med2</span><span style=\"color: #505153\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">      </span><span style=\"color: #61D0FF\">@med3</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">med3</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">   </span><span style=\"color: #DA67DA\"> /&gt;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">  </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">import</span><span style=\"color: #CCCCCC\"> Son </span><span style=\"color: #9569EC\">from</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">./Son.vue</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #505153\">;</span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">export</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">default</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">  name</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">father</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">,</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">  components</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> Son </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">  methods</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #9569EC\">med1</span><span style=\"color: #505153\">()</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">      </span><span style=\"color: #61D0FF\">console</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #9569EC\">log</span><span style=\"color: #505153\">(</span><span style=\"color: #9569EC\">1</span><span style=\"color: #505153\">);</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #9569EC\">med2</span><span style=\"color: #505153\">()</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">      </span><span style=\"color: #61D0FF\">console</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #9569EC\">log</span><span style=\"color: #505153\">(</span><span style=\"color: #9569EC\">2</span><span style=\"color: #505153\">);</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #9569EC\">med3</span><span style=\"color: #505153\">()</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">      </span><span style=\"color: #61D0FF\">console</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #9569EC\">log</span><span style=\"color: #505153\">(</span><span style=\"color: #9569EC\">3</span><span style=\"color: #505153\">);</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">  </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><p><strong>子组件</strong></p>\n<div class=\"language-diff\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">diff</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #CCCCCC\">&lt;template&gt;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">  &lt;div&gt;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    son</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">+    &lt;Grandson v-on=&quot;$listeners&quot; /&gt;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">     %% 如果一个一个绑定就太麻烦了 %%</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">-    &lt;Grandson   </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">-      @med1=&quot;() =&gt; this.$emit(&#39;med1&#39;)&quot;   </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">-      @med2=&quot;() =&gt; this.$emit(&#39;med2&#39;)&quot;   </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">-      @med3=&quot;() =&gt; this.$emit(&#39;med3&#39;)&quot;   </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">-    /&gt;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">  &lt;/div&gt;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">&lt;/template&gt;</span></span></code></pre></div><p><strong>孙子组件</strong></p>\n<div class=\"language-javascript\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">javascript</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #9569EC\">export</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">default</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">  name</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">Grandson</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">,</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">  inheritAttrs</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF; font-style: italic\">false</span><span style=\"color: #DA67DA\">,</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">  </span><span style=\"color: #9569EC\">created</span><span style=\"color: #505153\">()</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #61D0FF; font-style: italic\">this</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #9569EC\">$emit</span><span style=\"color: #505153\">(</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">med1</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #505153\">);</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #61D0FF; font-style: italic\">this</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #9569EC\">$emit</span><span style=\"color: #505153\">(</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">med2</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #505153\">);</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #61D0FF; font-style: italic\">this</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #9569EC\">$emit</span><span style=\"color: #505153\">(</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">med3</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #505153\">);</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">  </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;;</span></span></code></pre></div><p>如上我们可以看到子组件就起到了一个很好的过渡作用了。</p>\n","text":"前言多级组件嵌套需要传递数据时，通常使用的方法是通过vuex。但仅仅是传递数据，不做中间处理，使用 vuex 处理，未免有些大材小用了。所以就有了 $attrs...","permalink":"/post/vue中封装组件利器：$attrs、$listeners的使用","photos":[],"count_time":{"symbolsCount":"2.9k","symbolsTime":"3 mins."},"categories":[{"name":"Vue提升小册","slug":"Vue提升小册","count":2,"path":"api/categories/Vue提升小册.json"}],"tags":[{"name":"Vue开发心得","slug":"Vue开发心得","count":2,"path":"api/tags/Vue开发心得.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%89%8D%E8%A8%80\"><span class=\"toc-text\">前言</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#attrs\"><span class=\"toc-text\">$attrs</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#inheritAttrs-%E5%B1%9E%E6%80%A7-%E5%AE%98%E7%BD%91%E9%93%BE%E6%8E%A5\"><span class=\"toc-text\">inheritAttrs 属性 官网链接</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#listeners\"><span class=\"toc-text\">$listeners</span></a></li></ol>","author":{"name":"一小池勺","slug":"blog-author","avatar":"https://pic.imgdb.cn/item/65c339bd9f345e8d03bb301d.jpg","link":"/","description":"不要感受路，要赶路","socials":{"github":"https://gitee.com/zrblue","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3318213455","zhihu":"","csdn":"https://blog.csdn.net/zrblue?type=blog","juejin":"https://juejin.cn","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"天生不聪明","uid":"e77a14690b250ca8b028ed7676a06b30","slug":"天生不聪明","date":"2024-02-11T05:17:40.000Z","updated":"2024-02-11T05:46:22.633Z","comments":true,"path":"api/articles/天生不聪明.json","keywords":null,"cover":"https://pic.imgdb.cn/item/65c853059f345e8d03017357.jpg","text":"本文是我和慕课网合作的第一篇文字内容。文末有慕课网支持的重磅福利。天生聪明的你，一定不要错过。 因为我在慕课网上讲了几门算法课程，所以经常收到一些同学的提问。除...","permalink":"/post/天生不聪明","photos":[],"count_time":{"symbolsCount":"4.9k","symbolsTime":"4 mins."},"categories":[{"name":"好文摘录","slug":"好文摘录","count":3,"path":"api/categories/好文摘录.json"}],"tags":[{"name":"个人成长","slug":"个人成长","count":3,"path":"api/tags/个人成长.json"}],"author":{"name":"一小池勺","slug":"blog-author","avatar":"https://pic.imgdb.cn/item/65c339bd9f345e8d03bb301d.jpg","link":"/","description":"不要感受路，要赶路","socials":{"github":"https://gitee.com/zrblue","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3318213455","zhihu":"","csdn":"https://blog.csdn.net/zrblue?type=blog","juejin":"https://juejin.cn","customs":{}}},"feature":true},"next_post":{"title":"Vue项目关于样式的一些开发心得","uid":"e3ad00b1f20b9d54d4993e216f579aca","slug":"Vue项目关于样式的一些开发心得","date":"2024-02-13T09:47:57.000Z","updated":"2024-02-13T09:54:32.241Z","comments":true,"path":"api/articles/Vue项目关于样式的一些开发心得.json","keywords":null,"cover":"https://pic.imgdb.cn/item/65cb3bef9f345e8d03c7b663.jpg","text":"一、动态使用样式使用场景：根据不同的值使用不同的样式，或者给样式某个属性设置一个变量值 使用方法： 动态的 class css:class=&quot;[isS...","permalink":"/post/Vue项目关于样式的一些开发心得","photos":[],"count_time":{"symbolsCount":"3.2k","symbolsTime":"3 mins."},"categories":[{"name":"Vue提升小册","slug":"Vue提升小册","count":2,"path":"api/categories/Vue提升小册.json"}],"tags":[{"name":"Vue开发心得","slug":"Vue开发心得","count":2,"path":"api/tags/Vue开发心得.json"}],"author":{"name":"一小池勺","slug":"blog-author","avatar":"https://pic.imgdb.cn/item/65c339bd9f345e8d03bb301d.jpg","link":"/","description":"不要感受路，要赶路","socials":{"github":"https://gitee.com/zrblue","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3318213455","zhihu":"","csdn":"https://blog.csdn.net/zrblue?type=blog","juejin":"https://juejin.cn","customs":{}}}}}