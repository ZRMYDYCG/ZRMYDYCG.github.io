{"title":"前端框架开发【六】组件之间通信","uid":"6b9ec4178ad2a1311eb0bf0f5277e1b3","slug":"前端框架开发【六】组件之间通信","date":"2023-09-15T02:56:48.000Z","updated":"2024-02-11T03:11:14.058Z","comments":true,"path":"api/articles/前端框架开发【六】组件之间通信.json","keywords":null,"cover":"https://pic.imgdb.cn/item/65c839ff9f345e8d03c8fec9.jpg","content":"<h2 id=\"1-认识组件嵌套\"><a href=\"#1-认识组件嵌套\" class=\"headerlink\" title=\"1. 认识组件嵌套\"></a>1. 认识组件嵌套</h2><h3 id=\"1-1-App单独开发\"><a href=\"#1-1-App单独开发\" class=\"headerlink\" title=\"1.1. App单独开发\"></a>1.1. App单独开发</h3><p>前面我们是将所有的逻辑放到一个App.vue中：</p>\n<ul>\n<li><p>在之前的案例中，我们只是创建了一个组件App；</p>\n</li>\n<li><p>如果我们一个应用程序将所有的逻辑都放在一个组件中，那么这个组件就会变成非常的臃肿和难以维护；</p>\n</li>\n<li><p>所以组件化的核心思想应该是对组件进行拆分，拆分成一个个小的组件；</p>\n</li>\n<li><p>再将这些组件组合嵌套在一起，最终形成我们的应用程序</p>\n</li>\n</ul>\n<p>我们来分析一下下面代码的嵌套逻辑，假如我们将所有的代码逻辑都放到一个App.vue组件中：</p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">Header</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">NavBar</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">Banner</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">ul</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">li</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">商品列表1</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">li</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">li</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">商品列表2</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">li</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">li</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">商品列表3</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">li</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">li</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">商品列表4</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">li</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">li</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">商品列表5</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">li</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">ul</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">Footer</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">免责声明</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">export</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">default</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">style</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">scoped</span><span style=\"color: #DA67DA\">&gt;&lt;/</span><span style=\"color: #9569EC; font-style: italic\">style</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><p>我们会发现，将所有的代码逻辑全部放到一个组件中，代码是非常的臃肿和难以维护的。并且在真实开发中，我们会有更多的内容和代码逻辑，对于扩展性和可维护性来说都是非常差的。</p>\n<p>所有，在真实的开发中，我们会对组件进行拆分，拆分成一个个功能的小组件。</p>\n<h3 id=\"1-2-组件的拆分\"><a href=\"#1-2-组件的拆分\" class=\"headerlink\" title=\"1.2. 组件的拆分\"></a>1.2. 组件的拆分</h3><p>我们可以按照如下的方式进行拆分：</p>\n<p><img src=\"https://pic.imgdb.cn/item/65c7424e9f345e8d033ddc60.jpg\"></p>\n<p>Header.vue组件</p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">Header</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">NavBar</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><p>Main.vue组件</p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">banner</span><span style=\"color: #DA67DA\">&gt;&lt;/</span><span style=\"color: #9569EC; font-style: italic\">banner</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">product-list</span><span style=\"color: #DA67DA\">&gt;&lt;/</span><span style=\"color: #9569EC; font-style: italic\">product-list</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><p>ProductList组件</p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">ul</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">li</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">商品列表1</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">li</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">li</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">商品列表2</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">li</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">li</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">商品列表3</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">li</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">li</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">商品列表4</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">li</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">li</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">商品列表5</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">li</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">ul</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><p>Footer.vue组件</p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">Footer</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">免责声明</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><p>按照如上的拆分方式后，我们开发对应的逻辑只需要去对应的组件编写就可。</p>\n<h3 id=\"1-3-组件的通信\"><a href=\"#1-3-组件的通信\" class=\"headerlink\" title=\"1.3. 组件的通信\"></a>1.3. 组件的通信</h3><p>上面的嵌套逻辑如下，它们存在如下关系：</p>\n<ul>\n<li><p>App组件是Header、Main、Footer组件的父组件</p>\n</li>\n<li><p>Main组件是Banner、ProductList组件的父组件</p>\n</li>\n</ul>\n<p>在开发过程中，我们会经常遇到需要组件之间相互进行通信：</p>\n<ul>\n<li><p>比如App可能使用了多个Header，每个地方的Header展示的内容不同，那么我们就需要使用者传递给Header一些数据，让其进行展示</p>\n</li>\n<li><p>又比如我们在Main中一次性请求了Banner数据和ProductList数据，那么就需要传递给他们来进行展示</p>\n</li>\n<li><p>也可能是子组件中发生了事件，需要有父组件来完成某些操作，那就需要子组件向父组件传递事件</p>\n</li>\n</ul>\n<p>总之，在一个Vue项目中，组件之间的通信是非常重要的环节，所以接下来我们就具体学习一下组件之间是如何相互之间传递数据的</p>\n<h2 id=\"2-父子组件的相互通信\"><a href=\"#2-父子组件的相互通信\" class=\"headerlink\" title=\"2. 父子组件的相互通信\"></a>2. 父子组件的相互通信</h2><h3 id=\"2-1-父组件传递给子组件\"><a href=\"#2-1-父组件传递给子组件\" class=\"headerlink\" title=\"2.1. 父组件传递给子组件\"></a>2.1. 父组件传递给子组件</h3><p>在开发中很常见的就是父子组件之间通信，比如父组件有一些数据，需要子组件来进行展示：</p>\n<ul>\n<li>这个时候我们可以通过props来完成组件之间的通信</li>\n</ul>\n<p>什么是Props呢？</p>\n<ul>\n<li><p>Props是你可以在组件上注册一些自定义的attribute</p>\n</li>\n<li><p>父组件给这些attribute赋值，子组件通过attribute的名称获取到对应的值</p>\n</li>\n</ul>\n<p>Props有两种常见的用法：</p>\n<ul>\n<li><p>方式一：字符串数组，数组中的字符串就是attribute的名称，可接收任意类型数据</p>\n</li>\n<li><p>方式二：对象类型，对象类型我们可以在指定attribute名称的同时，指定它需要传递的类型、是否是必须的、默认值等等</p>\n</li>\n</ul>\n<h4 id=\"2-1-1-props的数组用法\"><a href=\"#2-1-1-props的数组用法\" class=\"headerlink\" title=\"2.1.1. props的数组用法\"></a>2.1.1. props的数组用法</h4><p>封装ShowMessage.vue组件：</p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">组件展示的title: </span><span style=\"color: #65666B; font-style: italic\">&#123;&#123;title&#125;&#125;</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">p</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">组件展示的content: </span><span style=\"color: #65666B; font-style: italic\">&#123;&#123;content&#125;&#125;</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">p</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">export</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">default</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    props</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">[</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">title</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">content</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #505153\">]</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><p>通过App.vue传递给组件数据：</p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">show-message</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">title</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">哈哈哈</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">content</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">我是哈哈哈</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">&gt;&lt;/</span><span style=\"color: #9569EC; font-style: italic\">show-message</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">show-message</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">title</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">呵呵呵</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">content</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">我是呵呵呵</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">&gt;&lt;/</span><span style=\"color: #9569EC; font-style: italic\">show-message</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">import</span><span style=\"color: #CCCCCC\"> ShowMessage </span><span style=\"color: #9569EC\">from</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#39;</span><span style=\"color: #DA67DA\">./ShowMessage.vue</span><span style=\"color: #505153\">&#39;</span><span style=\"color: #505153\">;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">export</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">default</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    components</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        ShowMessage  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><p>当然，我们也可以将data中的数据传递给子组件：</p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">show-message</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">:title</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">title1</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">:content</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">content1</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">&gt;&lt;/</span><span style=\"color: #9569EC; font-style: italic\">show-message</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">show-message</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">:title</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">title2</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">:content</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">content2</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">&gt;&lt;/</span><span style=\"color: #9569EC; font-style: italic\">show-message</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #9569EC\">import</span><span style=\"color: #CCCCCC\"> ShowMessage </span><span style=\"color: #9569EC\">from</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#39;</span><span style=\"color: #DA67DA\">./ShowMessage.vue</span><span style=\"color: #505153\">&#39;</span><span style=\"color: #505153\">;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">      </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #9569EC\">export</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">default</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        components</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            ShowMessage  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #9569EC\">data</span><span style=\"color: #505153\">()</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            </span><span style=\"color: #9569EC\">return</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">                title1</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">哈哈哈</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">                content1</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">我是哈哈哈</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">                title2</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">呵呵呵</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">                content2</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">我是呵呵呵</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><p>当然，我们也可以直接传递一个对象：</p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">show-message</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">:title</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">message.title</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">:content</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">message.content</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">&gt;&lt;/</span><span style=\"color: #9569EC; font-style: italic\">show-message</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">show-message</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">v-bind</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">message</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">&gt;&lt;/</span><span style=\"color: #9569EC; font-style: italic\">show-message</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">import</span><span style=\"color: #CCCCCC\"> ShowMessage </span><span style=\"color: #9569EC\">from</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#39;</span><span style=\"color: #DA67DA\">./ShowMessage.vue</span><span style=\"color: #505153\">&#39;</span><span style=\"color: #505153\">;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">export</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">default</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        components</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            ShowMessage  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #9569EC\">data</span><span style=\"color: #505153\">()</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            </span><span style=\"color: #9569EC\">return</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">                message</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">                title</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">嘿嘿嘿</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">                content</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">我是嘿嘿嘿</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\">  z</span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\">  </span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><h4 id=\"2-1-2-props的对象用法\"><a href=\"#2-1-2-props的对象用法\" class=\"headerlink\" title=\"2.1.2. props的对象用法\"></a>2.1.2. props的对象用法</h4><p>数组用法中我们只能说明传入的attribute的名称，并不能对其进行任何形式的限制，接下来我们来看一下对象的写法是如何让我们的props变得更加完善的。</p>\n<p>ShowMessage.vue的props对象写法：</p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">组件展示的title:</span><span style=\"color: #65666B; font-style: italic\">&#123;&#123;title&#125;&#125;</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">p</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">组件展示的content: </span><span style=\"color: #65666B; font-style: italic\">&#123;&#123;content&#125;&#125;</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">p</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">export</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">default</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        props</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #65666B; font-style: italic\">// 指定类型 title: String, </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #65666B; font-style: italic\">// 指定类型，同时指定是否必选、默认值 </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        content</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            type</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> String</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            require</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF; font-style: italic\">true</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            default</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">哈哈哈</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><p><strong>细节一：那么type的类型都可以是哪些呢？</strong></p>\n<ul>\n<li><p>String</p>\n</li>\n<li><p>Number</p>\n</li>\n<li><p>Boolean</p>\n</li>\n<li><p>Array</p>\n</li>\n<li><p>Object</p>\n</li>\n<li><p>Date</p>\n</li>\n<li><p>Function</p>\n</li>\n<li><p>Symbol</p>\n</li>\n</ul>\n<p><strong>细节二：对象类型的其他写法</strong></p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">export</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">default</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    props</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #65666B; font-style: italic\">// 基础的类型检查 (`null` 和 `undefined` 会通过任何类型验证) </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        propA</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> Number</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #65666B; font-style: italic\">// 多个可能的类型 </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        propB</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">[</span><span style=\"color: #CCCCCC\">String</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> Number</span><span style=\"color: #505153\">]</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #65666B; font-style: italic\">// 必填的字符串 </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        propC</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            type</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> String</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            required</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF; font-style: italic\">true</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #65666B; font-style: italic\">// 带有默认值的数字 </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        propD</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            type</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> Number</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            default</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">100</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #65666B; font-style: italic\">// 带有默认值的对象 </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        propE</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            type</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> Object</span><span style=\"color: #DA67DA\">,</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            </span><span style=\"color: #65666B; font-style: italic\">// 对象或数组默认值必须从一个工厂函数获取 </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            </span><span style=\"color: #9569EC\">default</span><span style=\"color: #505153\">()</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">                </span><span style=\"color: #9569EC\">return</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">                     message</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#39;</span><span style=\"color: #CCCCCC\">hello</span><span style=\"color: #505153\">&#39;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">                 </span><span style=\"color: #505153\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">             </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">         </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #65666B; font-style: italic\">// 自定义验证函数 </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        propF</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            </span><span style=\"color: #9569EC\">validator</span><span style=\"color: #505153\">(</span><span style=\"color: #61D0FF\">value</span><span style=\"color: #505153\">)</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">                </span><span style=\"color: #65666B; font-style: italic\">// 这个值必须匹配下列字符串中的一个 </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">                </span><span style=\"color: #9569EC\">return</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">[</span><span style=\"color: #505153\">&#39;</span><span style=\"color: #CCCCCC\">success</span><span style=\"color: #505153\">&#39;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#39;</span><span style=\"color: #CCCCCC\">warning</span><span style=\"color: #505153\">&#39;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#39;</span><span style=\"color: #CCCCCC\">danger</span><span style=\"color: #505153\">&#39;</span><span style=\"color: #505153\">]</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #9569EC\">includes</span><span style=\"color: #505153\">(</span><span style=\"color: #CCCCCC\">value</span><span style=\"color: #505153\">)</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #65666B; font-style: italic\">// 具有默认值的函数 </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        propG</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            type</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> Function</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            </span><span style=\"color: #65666B; font-style: italic\">// 与对象或数组默认值不同，这不是一个工厂函数 —— 这是一个用作默认值的函数 </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            </span><span style=\"color: #9569EC\">default</span><span style=\"color: #505153\">()</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">                </span><span style=\"color: #9569EC\">return</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#39;</span><span style=\"color: #CCCCCC\">Default function</span><span style=\"color: #505153\">&#39;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><p><strong>细节三：Prop 的大小写命名(camelCase vs kebab-case)</strong></p>\n<ul>\n<li><p>HTML 中的 attribute 名是大小写不敏感的，所以浏览器会把所有大写字符解释为小写字符</p>\n</li>\n<li><p>这意味着当你使用 DOM 中的模板时，camelCase (驼峰命名法) 的 prop 名需要使用其等价的 kebab-case (短横线分隔命名) 命名</p>\n</li>\n</ul>\n<p>ShowMessage.vue组件：</p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">p</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #65666B; font-style: italic\">&#123;&#123;messageInfo&#125;&#125;</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">p</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">export</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">default</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    props</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        messageInfo</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> String</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><p>App.vue组件中传入：</p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">show-message</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">messageInfo</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">哈哈哈</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">&gt;&lt;/</span><span style=\"color: #9569EC; font-style: italic\">show-message</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">show-message</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">message-info</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">哈哈哈</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">&gt;&lt;/</span><span style=\"color: #9569EC; font-style: italic\">show-message</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><p><strong>重申一次，如果你使用字符串模板，那么这个限制就不存在了。</strong></p>\n<h4 id=\"2-1-3-非Prop的Attribute\"><a href=\"#2-1-3-非Prop的Attribute\" class=\"headerlink\" title=\"2.1.3. 非Prop的Attribute\"></a>2.1.3. 非Prop的Attribute</h4><details class=\"custom-details\">\n<summary>什么是非Prop的Attribute呢？</summary>\n<p><ul>\n<li><p>当我们传递给一个组件某个属性，但是该属性并没有定义对应的props或者emits时，就称之为 <code>非Prop的Attribute</code></p>\n</li>\n<li><p>常见的包括class、style、id属性等</p>\n</li>\n</ul>\n</p>\n</details>\n<hr>\n<p><strong>Attribute继承</strong></p>\n<p>当组件有<strong>单个根节点</strong>时，非Prop的Attribute将自动添加到根节点的Attribute中：</p>\n<p><img src=\"https://pic.imgdb.cn/item/65c74b739f345e8d035a1dc1.jpg\"></p>\n<p><strong>禁用Attribute继承</strong></p>\n<p>如果我们不希望组件的根元素继承attribute，可以在组件中设置 <code>inheritAttrs: false</code>：</p>\n<ul>\n<li><p>禁用attribute继承的常见情况是<strong>需要将attribute应用于根元素之外的其他元素</strong></p>\n</li>\n<li><p>我们可以通过 <code>$attrs</code>来访问所有的 <code>非props的attribute</code></p>\n</li>\n</ul>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        我是NotPropAttribue组件</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        将attribute应用于 h2 标签</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">:class</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">$attrs.class</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">&gt;&lt;/</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">export</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">default</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    inheritAttrs</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF; font-style: italic\">false</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><p><strong>多个根节点的attribute</strong></p>\n<p>多个根节点的attribute如果没有显示的绑定，那么会报警告，我们必须手动的指定要绑定到哪一个属性上：</p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">:class</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">$attrs.class</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">我是NotPropAttribue组件1</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">我是NotPropAttribue组件2</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">我是NotPropAttribue组件3</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><h3 id=\"2-2-子组件传递给父组件\"><a href=\"#2-2-子组件传递给父组件\" class=\"headerlink\" title=\"2.2. 子组件传递给父组件\"></a>2.2. 子组件传递给父组件</h3><p>什么情况下子组件需要传递内容到父组件呢？</p>\n<ul>\n<li><p>当子组件有一些事件发生的时候，比如在组件中发生了点击，父组件需要切换内容</p>\n</li>\n<li><p>子组件有一些内容想要传递给父组件的时候</p>\n</li>\n</ul>\n<p>我们如何完成上面的操作呢？</p>\n<ul>\n<li><p>首先，我们需要在子组件中定义好在某些情况下触发的事件名称</p>\n</li>\n<li><p>其次，在父组件中以v-on的方式传入要监听的事件名称，并且绑定到对应的方法中</p>\n</li>\n<li><p>最后，在子组件中发生某个事件的时候，根据事件名称触发对应的事件</p>\n</li>\n</ul>\n<h4 id=\"2-2-1-自定义事件的流程\"><a href=\"#2-2-1-自定义事件的流程\" class=\"headerlink\" title=\"2.2.1. 自定义事件的流程\"></a>2.2.1. 自定义事件的流程</h4><p>内部其实是监听两个按钮的点击，点击之后通过 <code>this.$emit的方式发出去事件</code></p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">button</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">@click</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">increment</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">+1</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">button</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">button</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">@click</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">decrement</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">-1</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">button</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">export</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">default</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    emits</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">[</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">addOne</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">subOne</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #505153\">]</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    methods</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #9569EC\">increment</span><span style=\"color: #505153\">()</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            </span><span style=\"color: #61D0FF; font-style: italic\">this</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #9569EC\">$emit</span><span style=\"color: #505153\">(</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">addOne</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #505153\">);</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #9569EC\">decrement</span><span style=\"color: #505153\">()</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            </span><span style=\"color: #61D0FF; font-style: italic\">this</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #9569EC\">$emit</span><span style=\"color: #505153\">(</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">subOne</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #505153\">);</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><p>我们可以在App.vue中来监听自定义组件发出的事件：</p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">当前计数: </span><span style=\"color: #65666B; font-style: italic\">&#123;&#123;counter&#125;&#125;</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">counter-operation</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">@addOne</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">add</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">@subOne</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">sub</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">&gt;&lt;/</span><span style=\"color: #9569EC; font-style: italic\">counter-operation</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">import</span><span style=\"color: #CCCCCC\"> CounterOperation </span><span style=\"color: #9569EC\">from</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#39;</span><span style=\"color: #DA67DA\">./CounterOperation.vue</span><span style=\"color: #505153\">&#39;</span><span style=\"color: #505153\">;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">export</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">default</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    components</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        CounterOperation </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #9569EC\">data</span><span style=\"color: #505153\">()</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #9569EC\">return</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> counter</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">0</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    methods</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #9569EC\">add</span><span style=\"color: #505153\">()</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            </span><span style=\"color: #61D0FF; font-style: italic\">this</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #CCCCCC\">counter</span><span style=\"color: #9569EC\">++</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #9569EC\">sub</span><span style=\"color: #505153\">()</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            </span><span style=\"color: #61D0FF; font-style: italic\">this</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #CCCCCC\">counter</span><span style=\"color: #9569EC\">--</span><span style=\"color: #505153\">;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><h4 id=\"2-2-2-自定义事件的参数\"><a href=\"#2-2-2-自定义事件的参数\" class=\"headerlink\" title=\"2.2.2. 自定义事件的参数\"></a>2.2.2. 自定义事件的参数</h4><p>自定义事件的时候，我们也可以传递一些参数给父组件：</p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">button</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">@click</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">increment</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">+1</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">button</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">button</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">@click</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">incrementTen</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">+10</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">button</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">button</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">@click</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">decrement</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">-1</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">button</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">export</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">default</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    methods</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #9569EC\">incrementTen</span><span style=\"color: #505153\">()</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            </span><span style=\"color: #61D0FF; font-style: italic\">this</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #9569EC\">$emit</span><span style=\"color: #505153\">(</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">addTen</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">10</span><span style=\"color: #505153\">)</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">style</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">scoped</span><span style=\"color: #DA67DA\">&gt;&lt;/</span><span style=\"color: #9569EC; font-style: italic\">style</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><h4 id=\"2-2-3-自定义事件的验证\"><a href=\"#2-2-3-自定义事件的验证\" class=\"headerlink\" title=\"2.2.3. 自定义事件的验证\"></a>2.2.3. 自定义事件的验证</h4><p>在vue3当中，我们可以对传递的参数进行验证：</p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">button</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">@click</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">incrementTen</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">+10</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">button</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">export</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">default</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">emits</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #9569EC\">addTen</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #DA67DA\">function</span><span style=\"color: #505153\">(</span><span style=\"color: #61D0FF\">payload</span><span style=\"color: #505153\">)</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #9569EC\">if</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">(</span><span style=\"color: #CCCCCC\">payload </span><span style=\"color: #9569EC\">===</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">10</span><span style=\"color: #505153\">)</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #9569EC\">return</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF; font-style: italic\">true</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #9569EC\">return</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF; font-style: italic\">false</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">methods</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #9569EC\">incrementTen</span><span style=\"color: #505153\">()</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #61D0FF; font-style: italic\">this</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #9569EC\">$emit</span><span style=\"color: #505153\">(</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">addTen</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">10</span><span style=\"color: #505153\">)</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><h3 id=\"2-3-组件间通信案例练习\"><a href=\"#2-3-组件间通信案例练习\" class=\"headerlink\" title=\"2.3. 组件间通信案例练习\"></a>2.3. 组件间通信案例练习</h3><p>做一个相对综合的练习：</p>\n<p><img src=\"https://pic.imgdb.cn/item/65c7563d9f345e8d0379bc55.jpg\"></p>\n<h4 id=\"2-3-1-TabControl实现\"><a href=\"#2-3-1-TabControl实现\" class=\"headerlink\" title=\"2.3.1. TabControl实现\"></a>2.3.1. TabControl实现</h4><p>TabControl.vue的实现代码：</p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">class</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">tab-control</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">v-for</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">(item, index) in titles</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">:key</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">item</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">class</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">tab-control-item</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">@click</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">itemClick(index)</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">:class</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">&#123;active: index === currentIndex&#125;</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">                </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">span</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">class</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">underline</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #65666B; font-style: italic\">&#123;&#123; item &#125;&#125;</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">span</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">export</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">default</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    props</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        titles</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            type</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> Array</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            </span><span style=\"color: #9569EC\">default</span><span style=\"color: #505153\">()</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">                </span><span style=\"color: #9569EC\">return</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">[]</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    emits</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">[</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">titleClick</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #505153\">]</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #9569EC\">data</span><span style=\"color: #505153\">()</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #9569EC\">return</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            currentIndex</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">0</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    methods</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #9569EC\">itemClick</span><span style=\"color: #505153\">(</span><span style=\"color: #61D0FF\">index</span><span style=\"color: #505153\">)</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            </span><span style=\"color: #61D0FF; font-style: italic\">this</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #CCCCCC\">currentIndex </span><span style=\"color: #9569EC\">=</span><span style=\"color: #CCCCCC\"> index</span><span style=\"color: #505153\">;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            </span><span style=\"color: #61D0FF; font-style: italic\">this</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #9569EC\">$emit</span><span style=\"color: #505153\">(</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">titleClick</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> index</span><span style=\"color: #505153\">);</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">style</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">scoped</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">.</span><span style=\"color: #61D0FF\">tab-control</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">display</span><span style=\"color: #505153\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">flex</span><span style=\"color: #505153\">;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">justify-content</span><span style=\"color: #505153\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">space-between</span><span style=\"color: #505153\">;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #9569EC\">.</span><span style=\"color: #61D0FF\">tab-control-item</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">flex</span><span style=\"color: #505153\">:</span><span style=\"color: #CCCCCC\"> 1</span><span style=\"color: #505153\">;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">text-align</span><span style=\"color: #505153\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">center</span><span style=\"color: #505153\">;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">height</span><span style=\"color: #505153\">:</span><span style=\"color: #CCCCCC\"> 40</span><span style=\"color: #DA67DA\">px</span><span style=\"color: #505153\">;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">line-height</span><span style=\"color: #505153\">:</span><span style=\"color: #CCCCCC\"> 40</span><span style=\"color: #DA67DA\">px</span><span style=\"color: #505153\">;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #9569EC\">.</span><span style=\"color: #61D0FF\">tab-control-item</span><span style=\"color: #9569EC\">.</span><span style=\"color: #61D0FF\">active</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">color</span><span style=\"color: #505153\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF; font-style: italic\">red</span><span style=\"color: #505153\">;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #9569EC\">.</span><span style=\"color: #61D0FF\">tab-control-item</span><span style=\"color: #9569EC\">.</span><span style=\"color: #61D0FF\">active</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC; font-style: italic\">span</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">display</span><span style=\"color: #505153\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">inline-block</span><span style=\"color: #505153\">;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">border-bottom</span><span style=\"color: #505153\">:</span><span style=\"color: #CCCCCC\"> 4</span><span style=\"color: #DA67DA\">px </span><span style=\"color: #61D0FF\">solid</span><span style=\"color: #DA67DA\"> </span><span style=\"color: #61D0FF; font-style: italic\">red</span><span style=\"color: #505153\">;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">padding</span><span style=\"color: #505153\">:</span><span style=\"color: #CCCCCC\"> 0</span><span style=\"color: #DA67DA\"> </span><span style=\"color: #CCCCCC\">10</span><span style=\"color: #DA67DA\">px</span><span style=\"color: #505153\">;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">style</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><h4 id=\"2-3-2-App中的使用\"><a href=\"#2-3-2-App中的使用\" class=\"headerlink\" title=\"2.3.2. App中的使用\"></a>2.3.2. App中的使用</h4><p>我们在App中的使用过程如下：</p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">tab-control</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">:titles</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">titles</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">@titleClick</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">titleClick</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">&gt;&lt;/</span><span style=\"color: #9569EC; font-style: italic\">tab-control</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #65666B; font-style: italic\">&#123;&#123;contents[currentIndex]&#125;&#125;</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">import</span><span style=\"color: #CCCCCC\"> TabControl </span><span style=\"color: #9569EC\">from</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#39;</span><span style=\"color: #DA67DA\">./TabControl.vue</span><span style=\"color: #505153\">&#39;</span><span style=\"color: #505153\">;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">export</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">default</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    components</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> TabControl </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #9569EC\">data</span><span style=\"color: #505153\">()</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #9569EC\">return</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            titles</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">[</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">衣服</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">鞋子</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">裤子</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #505153\">]</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            contents</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">[</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">衣服页面</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">鞋子页面</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">裤子页面</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #505153\">]</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            currentIndex</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">0</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    methods</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #9569EC\">titleClick</span><span style=\"color: #505153\">(</span><span style=\"color: #61D0FF\">index</span><span style=\"color: #505153\">)</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            </span><span style=\"color: #61D0FF; font-style: italic\">this</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #CCCCCC\">currentIndex </span><span style=\"color: #9569EC\">=</span><span style=\"color: #CCCCCC\"> index</span><span style=\"color: #505153\">;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><h2 id=\"3-非父子组件的相互通信\"><a href=\"#3-非父子组件的相互通信\" class=\"headerlink\" title=\"3. 非父子组件的相互通信\"></a>3. 非父子组件的相互通信</h2><p>在开发中，我们构建了组件树之后，除了父子组件之间的通信之外，还会有非父子组件之间的通信。</p>\n<p>这里主要讲两种方式：</p>\n<ul>\n<li><p>Provide&#x2F;Inject</p>\n</li>\n<li><p>Mitt全局事件总线</p>\n</li>\n</ul>\n<h3 id=\"3-1-Provide-Inject\"><a href=\"#3-1-Provide-Inject\" class=\"headerlink\" title=\"3.1. Provide &#x2F; Inject\"></a>3.1. Provide &#x2F; Inject</h3><p>Provide &#x2F; Inject用于非父子组件之间共享数据：</p>\n<ul>\n<li><p>比如有一些深度嵌套的组件，子组件想要获取父组件的部分内容；</p>\n</li>\n<li><p>在这种情况下，如果我们仍然将props沿着组件链逐级传递下去，就会非常的麻烦；</p>\n</li>\n</ul>\n<p>对于这种情况下，我们可以使用 <code>Provide</code> 和 <code>Inject</code> ：</p>\n<ul>\n<li><p>无论层级结构有多深，父组件都可以作为其所有子组件的依赖提供者；</p>\n</li>\n<li><p>父组件有一个 <code>provide</code> 选项来提供数据</p>\n</li>\n<li><p>子组件有一个 <code>inject</code> 选项来开始使用这些数据</p>\n</li>\n</ul>\n<p><img src=\"https://pic.imgdb.cn/item/65c75dd49f345e8d039352b4.jpg\"><br>实际上，你可以将依赖注入看作是“long range props”，除了：</p>\n<ul>\n<li><p>父组件不需要知道哪些子组件使用它 provide 的 property</p>\n</li>\n<li><p>子组件不需要知道 inject 的 property 来自哪里</p>\n</li>\n</ul>\n<h4 id=\"3-1-1-基本使用\"><a href=\"#3-1-1-基本使用\" class=\"headerlink\" title=\"3.1.1. 基本使用\"></a>3.1.1. 基本使用</h4><p>我们开发一个这样的结构：</p>\n<p><img src=\"https://pic.imgdb.cn/item/65c75e399f345e8d0394a182.jpg\"></p>\n<p>App.vue组件提供数据：</p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">home</span><span style=\"color: #DA67DA\">&gt;&lt;/</span><span style=\"color: #9569EC; font-style: italic\">home</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">import</span><span style=\"color: #CCCCCC\"> Home </span><span style=\"color: #9569EC\">from</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#39;</span><span style=\"color: #DA67DA\">./Home.vue</span><span style=\"color: #505153\">&#39;</span><span style=\"color: #505153\">;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">export</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">default</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    components</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> Home </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    provide</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        name</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">why</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        age</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">18</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><p>Home.vue是中间的组件：</p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">home-content</span><span style=\"color: #DA67DA\">&gt;&lt;/</span><span style=\"color: #9569EC; font-style: italic\">home-content</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">import</span><span style=\"color: #CCCCCC\"> HomeContent </span><span style=\"color: #9569EC\">from</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#39;</span><span style=\"color: #DA67DA\">./HomeContent.vue</span><span style=\"color: #505153\">&#39;</span><span style=\"color: #505153\">;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">export</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">default</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    components</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> HomeContent </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><p>HomeContent.vue是获取数据的组件：</p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">HomeContent</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #65666B; font-style: italic\">&#123;&#123;name&#125;&#125;</span><span style=\"color: #CCCCCC\">-</span><span style=\"color: #65666B; font-style: italic\">&#123;&#123;age&#125;&#125;</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">h2</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">export</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">default</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    inject</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">[</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">name</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">age</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #505153\">]</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><h4 id=\"3-1-2-函数写法\"><a href=\"#3-1-2-函数写法\" class=\"headerlink\" title=\"3.1.2. 函数写法\"></a>3.1.2. 函数写法</h4><p>如果Provide中提供的一些数据是来自data，那么我们可能会想要通过this来获取：</p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">import</span><span style=\"color: #CCCCCC\"> Home </span><span style=\"color: #9569EC\">from</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#39;</span><span style=\"color: #DA67DA\">./Home.vue</span><span style=\"color: #505153\">&#39;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #9569EC\">export</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">default</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    components</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        Home</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #9569EC\">data</span><span style=\"color: #505153\">()</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #9569EC\">return</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            names</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">[</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">abc</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">cba</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #505153\">]</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #505153\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    provide</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        name</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">why</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">,</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        age</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">18</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">,</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        length</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF; font-style: italic\">this</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #61D0FF\">names</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #CCCCCC\">length</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><p>这个时候会报错：</p>\n<div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #9569EC\">Uncaught</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #CCCCCC\">TypeError:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #CCCCCC\">Cannot</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #CCCCCC\">read</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #CCCCCC\">property</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#39;</span><span style=\"color: #CCCCCC\">names</span><span style=\"color: #505153\">&#39;</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #CCCCCC\">of</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #CCCCCC\">undefined</span></span></code></pre></div><p>如何解决这个问题呢？</p>\n<p>我们需要将provide转成为返回对象的函数</p>\n<div class=\"language-javascript\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">javascript</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #9569EC\">provide</span><span style=\"color: #505153\">()</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #9569EC\">return</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        name</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">why</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">,</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        age</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">18</span><span style=\"color: #DA67DA\">,</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        length</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF; font-style: italic\">this</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #61D0FF\">names</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #CCCCCC\">length</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;</span></span></code></pre></div><h4 id=\"3-1-3-处理响应式\"><a href=\"#3-1-3-处理响应式\" class=\"headerlink\" title=\"3.1.3. 处理响应式\"></a>3.1.3. 处理响应式</h4><p>我们先来验证一个结果：如果我们修改了this.names的内容，那么使用length的子组件会不会是响应式的？</p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">home</span><span style=\"color: #DA67DA\">&gt;&lt;/</span><span style=\"color: #9569EC; font-style: italic\">home</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">button</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">@click</span><span style=\"color: #505153\">=</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">addName</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\">添加name</span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">button</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">import</span><span style=\"color: #CCCCCC\"> Home </span><span style=\"color: #9569EC\">from</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#39;</span><span style=\"color: #DA67DA\">./Home.vue</span><span style=\"color: #505153\">&#39;</span><span style=\"color: #505153\">;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">export</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">default</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    components</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> Home </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #9569EC\">data</span><span style=\"color: #505153\">()</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #9569EC\">return</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        names</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">[</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">abc</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">cba</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #505153\">]</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #9569EC\">provide</span><span style=\"color: #505153\">()</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #9569EC\">return</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            name</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">why</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            age</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">18</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            length</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF; font-style: italic\">this</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #61D0FF\">names</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #CCCCCC\">length </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    methods</span><span style=\"color: #DA67DA\">:</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #9569EC\">addName</span><span style=\"color: #505153\">()</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            </span><span style=\"color: #61D0FF; font-style: italic\">this</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #61D0FF\">names</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #9569EC\">push</span><span style=\"color: #505153\">(</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">why</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #505153\">);</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><p>我们会发现对应的子组件中是没有反应的：</p>\n<p>这是因为当我们修改了names之后，之前在provide中引入的 <code>this.names.length</code> 本身并不是响应式的</p>\n<p>那么怎么样可以让我们的数据变成响应式的呢？</p>\n<p>非常的简单，我们可以使用响应式的一些API来完成这些功能，比如说computed函数</p>\n<p>当然，这个computed是vue3的新特性</p>\n<p>注意：我们在使用length的时候需要获取其中的value，这是因为computed返回的是一个ref对象，需要取出其中的value来使用</p>\n<p><img src=\"https://pic.imgdb.cn/item/65c76e1f9f345e8d03ce1a70.jpg\"></p>\n<p>Provide和Inject也可以在Composition API中使用</p>\n<h3 id=\"3-2-全局事件总线\"><a href=\"#3-2-全局事件总线\" class=\"headerlink\" title=\"3.2. 全局事件总线\"></a>3.2. 全局事件总线</h3><p>Vue3从实例中移除了 <code>$on</code>、<code>$off</code> 和 <code>$once</code> 方法，所以我们如果希望继续使用全局事件总线，要通过第三方的库：</p>\n<ul>\n<li><p>Vue3官方有推荐一些库，例如 mitt 或 tiny-emitter；</p>\n</li>\n<li><p>这里我们主要讲解一下mitt库的使用；</p>\n</li>\n</ul>\n<p>首先，我们需要先安装这个库：</p>\n<div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #9569EC\">npm</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #CCCCCC\">install</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #CCCCCC\">mitt</span></span></code></pre></div><p>其次，我们可以封装一个工具eventbus.js：</p>\n<div class=\"language-javascript\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">javascript</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #65666B; font-style: italic\">// 可以创建很多个emitter对象const emitter = mitt();export default emitter;</span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">import</span><span style=\"color: #CCCCCC\"> mitt </span><span style=\"color: #9569EC\">from</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#39;</span><span style=\"color: #DA67DA\">mitt</span><span style=\"color: #505153\">&#39;</span><span style=\"color: #505153\">;</span></span></code></pre></div><p>在项目中可以使用它们：</p>\n<ul>\n<li><p>我们在Home.vue中监听事件；</p>\n</li>\n<li><p>我们在App.vue中触发事件；</p>\n</li>\n</ul>\n<p>Home.vue组件中监听事件：</p>\n<div class=\"language-html\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">html</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">div</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">template</span><span style=\"color: #DA67DA\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">import</span><span style=\"color: #CCCCCC\"> emitter </span><span style=\"color: #9569EC\">from</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#39;</span><span style=\"color: #DA67DA\">./eventBus</span><span style=\"color: #505153\">&#39;</span><span style=\"color: #505153\">;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">export</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">default</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #9569EC\">created</span><span style=\"color: #505153\">()</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #61D0FF\">emitter</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #9569EC\">on</span><span style=\"color: #505153\">(</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">why</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">(</span><span style=\"color: #61D0FF\">info</span><span style=\"color: #505153\">)</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #DA67DA\">=&gt;</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            </span><span style=\"color: #61D0FF\">console</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #9569EC\">log</span><span style=\"color: #505153\">(</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">why event:</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> info</span><span style=\"color: #505153\">);</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #505153\">&#125;);</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #61D0FF\">emitter</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #9569EC\">on</span><span style=\"color: #505153\">(</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">kobe</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">(</span><span style=\"color: #61D0FF\">info</span><span style=\"color: #505153\">)</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #DA67DA\">=&gt;</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            </span><span style=\"color: #61D0FF\">console</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #9569EC\">log</span><span style=\"color: #505153\">(</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">kobe event:</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> info</span><span style=\"color: #505153\">);</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#125;);</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #61D0FF\">emitter</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #9569EC\">on</span><span style=\"color: #505153\">(</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">*</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">(</span><span style=\"color: #61D0FF\">type</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #61D0FF\">e</span><span style=\"color: #505153\">)</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #DA67DA\">=&gt;</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            </span><span style=\"color: #61D0FF\">console</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #9569EC\">log</span><span style=\"color: #505153\">(</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #CCCCCC\">* event:</span><span style=\"color: #505153\">&quot;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> type</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> e</span><span style=\"color: #505153\">);</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #505153\">&#125;);</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span><span style=\"color: #CCCCCC\"> </span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">&lt;/</span><span style=\"color: #9569EC; font-style: italic\">script</span><span style=\"color: #DA67DA\">&gt;</span></span></code></pre></div><p>其他API的补充，如果在某些情况下我们想要取消事件，可以使用下面的API：</p>\n<div class=\"language-javascript\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">javascript</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #65666B; font-style: italic\">// 取消emitter中所有的监听emitter.all.clear()</span></span>\n<span class=\"line\"><span style=\"color: #65666B; font-style: italic\">// 定义一个函数</span></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">function</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">onFoo</span><span style=\"color: #505153\">()</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;&#125;</span></span>\n<span class=\"line\"><span style=\"color: #61D0FF\">emitter</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #9569EC\">on</span><span style=\"color: #505153\">(</span><span style=\"color: #505153\">&#39;</span><span style=\"color: #CCCCCC\">foo</span><span style=\"color: #505153\">&#39;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> onFoo</span><span style=\"color: #505153\">)</span><span style=\"color: #CCCCCC\">   </span><span style=\"color: #65666B; font-style: italic\">// 监听</span></span>\n<span class=\"line\"><span style=\"color: #61D0FF\">emitter</span><span style=\"color: #DA67DA\">.</span><span style=\"color: #9569EC\">off</span><span style=\"color: #505153\">(</span><span style=\"color: #505153\">&#39;</span><span style=\"color: #CCCCCC\">foo</span><span style=\"color: #505153\">&#39;</span><span style=\"color: #DA67DA\">,</span><span style=\"color: #CCCCCC\"> onFoo</span><span style=\"color: #505153\">)</span><span style=\"color: #CCCCCC\">  </span><span style=\"color: #65666B; font-style: italic\">// 取消监听</span></span></code></pre></div><hr>\n<h2 id=\"结语\"><a href=\"#结语\" class=\"headerlink\" title=\"结语\"></a>结语</h2><p>学如逆水行舟，不进则退</p>\n<p><code>2023</code> 9<code> </code>15&#96;</p>\n","text":"1. 认识组件嵌套1.1. App单独开发前面我们是将所有的逻辑放到一个App.vue中： 在之前的案例中，我们只是创建了一个组件App； 如果我们一个应用程序...","permalink":"/post/前端框架开发【六】组件之间通信","photos":[],"count_time":{"symbolsCount":"18k","symbolsTime":"16 mins."},"categories":[{"name":"VUE","slug":"VUE","count":11,"path":"api/categories/VUE.json"}],"tags":[{"name":"VUE 入门","slug":"VUE-入门","count":11,"path":"api/tags/VUE-入门.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-%E8%AE%A4%E8%AF%86%E7%BB%84%E4%BB%B6%E5%B5%8C%E5%A5%97\"><span class=\"toc-text\">1. 认识组件嵌套</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-1-App%E5%8D%95%E7%8B%AC%E5%BC%80%E5%8F%91\"><span class=\"toc-text\">1.1. App单独开发</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-2-%E7%BB%84%E4%BB%B6%E7%9A%84%E6%8B%86%E5%88%86\"><span class=\"toc-text\">1.2. 组件的拆分</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-3-%E7%BB%84%E4%BB%B6%E7%9A%84%E9%80%9A%E4%BF%A1\"><span class=\"toc-text\">1.3. 组件的通信</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-%E7%88%B6%E5%AD%90%E7%BB%84%E4%BB%B6%E7%9A%84%E7%9B%B8%E4%BA%92%E9%80%9A%E4%BF%A1\"><span class=\"toc-text\">2. 父子组件的相互通信</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-1-%E7%88%B6%E7%BB%84%E4%BB%B6%E4%BC%A0%E9%80%92%E7%BB%99%E5%AD%90%E7%BB%84%E4%BB%B6\"><span class=\"toc-text\">2.1. 父组件传递给子组件</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-1-1-props%E7%9A%84%E6%95%B0%E7%BB%84%E7%94%A8%E6%B3%95\"><span class=\"toc-text\">2.1.1. props的数组用法</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-1-2-props%E7%9A%84%E5%AF%B9%E8%B1%A1%E7%94%A8%E6%B3%95\"><span class=\"toc-text\">2.1.2. props的对象用法</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-1-3-%E9%9D%9EProp%E7%9A%84Attribute\"><span class=\"toc-text\">2.1.3. 非Prop的Attribute</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-2-%E5%AD%90%E7%BB%84%E4%BB%B6%E4%BC%A0%E9%80%92%E7%BB%99%E7%88%B6%E7%BB%84%E4%BB%B6\"><span class=\"toc-text\">2.2. 子组件传递给父组件</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-2-1-%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6%E7%9A%84%E6%B5%81%E7%A8%8B\"><span class=\"toc-text\">2.2.1. 自定义事件的流程</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-2-2-%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6%E7%9A%84%E5%8F%82%E6%95%B0\"><span class=\"toc-text\">2.2.2. 自定义事件的参数</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-2-3-%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6%E7%9A%84%E9%AA%8C%E8%AF%81\"><span class=\"toc-text\">2.2.3. 自定义事件的验证</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-3-%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1%E6%A1%88%E4%BE%8B%E7%BB%83%E4%B9%A0\"><span class=\"toc-text\">2.3. 组件间通信案例练习</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-3-1-TabControl%E5%AE%9E%E7%8E%B0\"><span class=\"toc-text\">2.3.1. TabControl实现</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-3-2-App%E4%B8%AD%E7%9A%84%E4%BD%BF%E7%94%A8\"><span class=\"toc-text\">2.3.2. App中的使用</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-%E9%9D%9E%E7%88%B6%E5%AD%90%E7%BB%84%E4%BB%B6%E7%9A%84%E7%9B%B8%E4%BA%92%E9%80%9A%E4%BF%A1\"><span class=\"toc-text\">3. 非父子组件的相互通信</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-1-Provide-Inject\"><span class=\"toc-text\">3.1. Provide &#x2F; Inject</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#3-1-1-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8\"><span class=\"toc-text\">3.1.1. 基本使用</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#3-1-2-%E5%87%BD%E6%95%B0%E5%86%99%E6%B3%95\"><span class=\"toc-text\">3.1.2. 函数写法</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#3-1-3-%E5%A4%84%E7%90%86%E5%93%8D%E5%BA%94%E5%BC%8F\"><span class=\"toc-text\">3.1.3. 处理响应式</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-2-%E5%85%A8%E5%B1%80%E4%BA%8B%E4%BB%B6%E6%80%BB%E7%BA%BF\"><span class=\"toc-text\">3.2. 全局事件总线</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%BB%93%E8%AF%AD\"><span class=\"toc-text\">结语</span></a></li></ol>","author":{"name":"一小池勺","slug":"blog-author","avatar":"https://pic.imgdb.cn/item/65c339bd9f345e8d03bb301d.jpg","link":"/","description":"不要感受路，要赶路","socials":{"github":"https://gitee.com/zrblue","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3318213455","zhihu":"","csdn":"https://blog.csdn.net/zrblue?type=blog","juejin":"https://juejin.cn","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"前端框架开发【七】组件的插槽使用","uid":"0701903dd32364615550461e63b1accc","slug":"前端框架开发【七】组件的插槽使用","date":"2023-09-16T02:57:09.000Z","updated":"2024-02-11T03:11:10.449Z","comments":true,"path":"api/articles/前端框架开发【七】组件的插槽使用.json","keywords":null,"cover":"https://pic.imgdb.cn/item/65c839ff9f345e8d03c8fec9.jpg","text":"1. 插槽的使用1.1. 认识插槽slot在开发中，我们会经常封装一个个可复用的组件： 前面我们会通过props传递给组件一些数据，让组件来进行展示 但是为了让...","permalink":"/post/前端框架开发【七】组件的插槽使用","photos":[],"count_time":{"symbolsCount":"6.6k","symbolsTime":"6 mins."},"categories":[{"name":"VUE","slug":"VUE","count":11,"path":"api/categories/VUE.json"}],"tags":[{"name":"VUE 入门","slug":"VUE-入门","count":11,"path":"api/tags/VUE-入门.json"}],"author":{"name":"一小池勺","slug":"blog-author","avatar":"https://pic.imgdb.cn/item/65c339bd9f345e8d03bb301d.jpg","link":"/","description":"不要感受路，要赶路","socials":{"github":"https://gitee.com/zrblue","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3318213455","zhihu":"","csdn":"https://blog.csdn.net/zrblue?type=blog","juejin":"https://juejin.cn","customs":{}}}},"next_post":{"title":"前端框架开发【五】组件化开发基础","uid":"8861984eced3666bfbbba785cdca3adb","slug":"前端框架开发【五】组件化开发基础","date":"2023-09-14T02:56:34.000Z","updated":"2024-02-11T03:10:58.894Z","comments":true,"path":"api/articles/前端框架开发【五】组件化开发基础.json","keywords":null,"cover":"https://pic.imgdb.cn/item/65c839ff9f345e8d03c8fec9.jpg","text":" 组件化开发的地位 现在可以说整个的大前端开发都是组件化的天下，无论从三大框架（Vue、React、Angular），还是跨平台方案的Flutter，甚至是移动...","permalink":"/post/前端框架开发【五】组件化开发基础","photos":[],"count_time":{"symbolsCount":"5.9k","symbolsTime":"5 mins."},"categories":[{"name":"VUE","slug":"VUE","count":11,"path":"api/categories/VUE.json"}],"tags":[{"name":"VUE 入门","slug":"VUE-入门","count":11,"path":"api/tags/VUE-入门.json"}],"author":{"name":"一小池勺","slug":"blog-author","avatar":"https://pic.imgdb.cn/item/65c339bd9f345e8d03bb301d.jpg","link":"/","description":"不要感受路，要赶路","socials":{"github":"https://gitee.com/zrblue","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/3318213455","zhihu":"","csdn":"https://blog.csdn.net/zrblue?type=blog","juejin":"https://juejin.cn","customs":{}}}}}